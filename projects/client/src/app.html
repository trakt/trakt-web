<!DOCTYPE html>
<html
  lang="%paraglide.lang%"
  dir="%paraglide.textDirection%"
  data-theme="%theme.current%"
  data-mobile-os="%mobile.os%"
  data-device="%device.type%"
  data-deployment-sha="%deployment.sha%"
>
  <head>
    <meta charset="utf-8" />
    <!-- CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        img-src 'self' data: https://*.trakt.tv https://trakt.tv https://secure.gravatar.com https://i2.wp.com/ https://*.contentsquare.net https://*.youtube.com https://fonts.gstatic.com;
        script-src 'self' 'unsafe-eval' 'unsafe-inline' https://app.trakt.tv https://*.googletagmanager.com https://*.contentsquare.net http://*.contentsquare.net;
        script-src-elem 'self' 'unsafe-inline' https://*.googletagmanager.com https://*.cloudflareinsights.com https://*.trakt.tv/ https://*.contentsquare.net https://static.hj.contentsquare.net http://*.contentsquare.net http://t.contentsquare.net https://static.hj.contentsquare.net https://cdnjs.cloudflare.com;
        worker-src 'self' blob:;
        connect-src 'self' https://*.jsdelivr.net https://*.googleapis.com https://*.gstatic.com https://*.google-analytics.com https://*.analytics.google.com https://*.googletagmanager.com https://trakt.tv https://*.trakt.tv https://*.posthog.com https://*.contentsquare.net https://*.hotjar.com https://*.hotjar.io wss://*.hotjar.com https://*.sentry.io;
        font-src 'self' data: https://fonts.gstatic.com http://fonts.gstatic.com;
        style-src 'self' 'unsafe-inline' https://*.googleapis.com https://*.jsdelivr.net https://*.trakt.tv;
        style-src-elem 'self' 'unsafe-inline' https://*.googleapis.com https://*.jsdelivr.net https://*.trakt.tv;
        frame-src 'self' https://*.hotjar.com https://trakt.tv http://localhost:3000;
      "
    >
    <!-- PWA -->
    <link rel="manifest" href="%sveltekit.assets%/manifest.webmanifest">
    <script src="%sveltekit.assets%/register-install.js?v=%cache.timestamp%">
    </script>
    <meta name="mobile-web-app-capable" content="yes">
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    >
    <meta name="application-name" content="Trakt Web" />

    <!-- Viewport -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=%device.scale%, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content"
    />

    <!-- Icons -->
    <link rel="icon" href="%sveltekit.assets%/favicon.svg" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="%sveltekit.assets%/pwa/ios/apple-touch-icon.png"
    />

    %sveltekit.head%
  </head>
  <body
    data-sveltekit-preload-code="viewport"
    data-sveltekit-preload-data="tap"
  >
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>
